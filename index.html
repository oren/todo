<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://sindresorhus.com/github-markdown-css/github-markdown.css">

<style>
	body {
		font-family: Helvetica;
		font-size: 20px;
		box-sizing: border-box;
		min-width: 200px;
		max-width: 980px;
		margin: 0 auto;
		padding: 45px;
	}

	.sidenav {
		font-size: 14px;
		float: left;
		height: 100%;
		width: 160px;
		list-style: none;
	}

	.sidenav ul {
		list-style: none;
	}

	article {
		float: right;
		max-width:600px;
		background-color: white;
	}

	.markdown-body {
		background-color: white;
		color: black;
	}

	h1 {
		color: black;
	}

	h2 {
		color: black;
	}

	h3 {
		color: black;
	}

	iframe {
		width: 100%;
		max-width: 640px;
	}

	.video-container {
		position:relative;
		padding-bottom:56.25%;
		padding-top:30px;
		height:0;
		overflow:hidden;
	}

	.video-container iframe, .video-container object, .video-container embed {
		position:absolute;
		top:0;
		left:0;
		width:100%;
		height:100%;
	}

	@media (max-width: 767px) {
		body {
			padding: 15px;
		}

		.sidenav {
			display: none;
		}
	}

	.header ul {
		list-style: none;
		padding-left: 0px;
	}
</style>

<div class="header">
	
</div>

<div class="sidenav">
	
</div>

<article class="markdown-body" style="font-size: 20px;">
	<h1 id="static-site-generator-in-typescript">Static site generator in TypeScript</h1>
<h2 id="setup">Setup</h2>
<pre><code>npm install -g typescript #TODO: verify if that's a good approach
npm install
npm start</code></pre>
<h2 id="development-flow">Development flow</h2>
<ul>
<li>When I change app.ts, the typescript compiler generate build/app.js</li>
<li>The command <code>npm link</code> allow me to run the program as a script from any location on my laptop with the command <code>site</code>. The location of the js file is /home/oren/.nvm/versions/node/v18.18.0/bin/site</li>
<li>The template.html file is located in the 'build' folder</li>
</ul>
<h2 id="notes">Notes</h2>
<h3 id="run-as-linux-script">Run as linux script</h3>
<p>In order to run this program as a linux script, in ./app.js I added the first line: #!/usr/bin/env node.</p>
<h3 id="nicer-name-for-the-script">Nicer name for the script</h3>
<ul>
<li>In order to call the script with <code>site</code> instead of ./app.js I have an entry in package.json called bin.<br />
This only worked after I also run the command <code>npm link</code> which allow me to call my program anywhere on my laptop.</li>
<li>In order to unlink, run <code>npm unlink website-ts</code>.</li>
</ul>
<h2 id="automatic-build-on-file-change">Automatic build on file change</h2>
<p>I use nodemon and concurrently locally. They can also installed with globally (with -g).</p>
<h3 id="other-ways-to-run-ts-files">Other ways to run ts files</h3>
<ul>
<li><code>npx ts-node ~/scripts/site-generator.ts</code>. npx is a shortcut for npm exec, which runs scripts from packages, and ts-node is a wrapper for node that compiles and runs ts as a single step; it's essentially tsc and node in a single command</li>
</ul>
<h2 id="todo">TODO</h2>
<ul>
<li>Find out if template.html can be in the src instead of build folder.</li>
<li>Currently the css file is external. Try to use a local file instead.</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://www.typescripttutorial.net/typescript-tutorial/nodejs-typescript/">https://www.typescripttutorial.net/typescript-tutorial/nodejs-typescript/</a></li>
<li><a href="https://github.com/showdownjs/showdown">https://github.com/showdownjs/showdown</a></li>
<li><a href="https://medium.com/netscape/a-guide-to-create-a-nodejs-command-line-package-c2166ad0452e">https://medium.com/netscape/a-guide-to-create-a-nodejs-command-line-package-c2166ad0452e</a></li>
<li><a href="https://github.com/SteveRidout/flashdown/tree/master">https://github.com/SteveRidout/flashdown/tree/master</a></li>
</ul>
</article>
